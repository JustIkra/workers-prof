import{u as k,y as z,f as B,g as m,w as t,b as e,l as s,d as n,h as D,i as a,C as E,j as _,D as I,F as M,z as c,G as L,H as U,I as j,e as F,E as f,o as g}from"./index-Doc1gm_3.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";const H={class:"header-right"},T={class:"user-dropdown"},$={__name:"AppLayout",setup(q){const r=F(),w=B(),l=k(),h=z(()=>w.path),v=d=>{r.push(d)},y=async d=>{if(d==="logout")try{await l.logout(),f.success("Выход выполнен"),r.push("/login")}catch{f.error("Ошибка выхода")}};return(d,o)=>{const u=n("el-icon"),i=n("el-menu-item"),x=n("el-sub-menu"),A=n("el-menu"),S=n("el-tag"),p=n("el-dropdown-item"),b=n("el-dropdown-menu"),C=n("el-dropdown"),N=n("el-header"),R=n("el-main"),V=n("el-container");return g(),m(V,{class:"app-layout"},{default:t(()=>[e(N,{class:"app-header"},{default:t(()=>[o[5]||(o[5]=s("div",{class:"header-left"},[s("div",{class:"logo"},[s("span",{class:"logo-icon"},"ЦМ"),s("span",{class:"logo-text"},"Цифровая модель УК")])],-1)),s("div",H,[e(A,{mode:"horizontal","default-active":h.value,ellipsis:!1,class:"main-menu",onSelect:v},{default:t(()=>[e(i,{index:"/participants"},{default:t(()=>[e(u,null,{default:t(()=>[e(a(E))]),_:1}),o[0]||(o[0]=s("span",null,"Участники",-1))]),_:1}),a(l).isAdmin?(g(),m(x,{key:0,index:"admin"},{title:t(()=>[e(u,null,{default:t(()=>[e(a(I))]),_:1}),o[1]||(o[1]=s("span",null,"Админ",-1))]),default:t(()=>[e(i,{index:"/admin/users"},{default:t(()=>[...o[2]||(o[2]=[_("Пользователи",-1)])]),_:1}),e(i,{index:"/admin/weights"},{default:t(()=>[...o[3]||(o[3]=[_("Весовые таблицы",-1)])]),_:1})]),_:1})):D("",!0)]),_:1},8,["default-active"]),e(C,{onCommand:y},{dropdown:t(()=>[e(b,null,{default:t(()=>[e(p,{disabled:""},{default:t(()=>[e(S,{type:a(l).isAdmin?"danger":"info",size:"small"},{default:t(()=>[_(c(a(l).isAdmin?"ADMIN":"USER"),1)]),_:1},8,["type"])]),_:1}),e(p,{divided:"",command:"logout"},{default:t(()=>[e(u,null,{default:t(()=>[e(a(U))]),_:1}),o[4]||(o[4]=_(" Выход ",-1))]),_:1})]),_:1})]),default:t(()=>[s("span",T,[e(u,null,{default:t(()=>[e(a(M))]),_:1}),s("span",null,c(a(l).user?.email),1),e(u,{class:"el-icon--right"},{default:t(()=>[e(a(L))]),_:1})])]),_:1})])]),_:1}),e(R,{class:"app-main"},{default:t(()=>[j(d.$slots,"default",{},void 0,!0)]),_:3})]),_:3})}}},O=G($,[["__scopeId","data-v-7d99b630"]]);export{O as A};
