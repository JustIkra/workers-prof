import{G as M,m as v,H as we,z as Ee,I as Pe,r as u,q as h,o as r,w as t,v as U,d as a,c as k,f as c,J as B,K as j,L as y,a as d,E as f,n as Ce,p as ze,e as Ie,A as Be,B as ye,u as x,t as je,M as $e,h as Je,N as He,O as qe,P as Xe,Q as Ge,F as Ke}from"./index-DKcGuIb8.js";import{A as Qe}from"./AppLayout-7Jko2slY.js";import{m as ge,p as We}from"./metrics-Bq5YqQz8.js";import{_ as Le}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{u as Ye,p as Ze}from"./participants-CZCChqcb.js";const ae={async upload(l,p,_){const E=new FormData;return E.append("report_type",p),E.append("file",_),(await M.post(`/participants/${l}/reports`,E,{headers:{"Content-Type":"multipart/form-data"}})).data},async download(l){return await M.get(`/reports/${l}/download`,{responseType:"blob"})},async getById(l){return(await M.get(`/reports/${l}`)).data},async delete(l){return(await M.delete(`/reports/${l}`)).data},async extract(l){return(await M.post(`/reports/${l}/extract`)).data},async getMetrics(l){return(await M.get(`/reports/${l}/metrics`)).data},async getList(l){return(await M.get(`/participants/${l}/reports`)).data}},oe={async calculate(l,p){return(await M.post(`/scoring/participants/${l}/calculate`,null,{params:{activity_code:p}})).data},async getHistory(l){return(await M.get(`/participants/${l}/scores`)).data},async getById(l){return(await M.get(`/scoring-results/${l}`)).data},async generateRecommendations(l){return(await M.post(`/reports/${l}/recommendations`)).data},async getFinalReport(l,p,_="json"){const E={params:{activity_code:p,format:_}};_==="html"&&(E.responseType="text");const T=await M.get(`/participants/${l}/final-report`,E);return T.data}};function et(l,p=1){if(l==null||l==="")return"";const _=typeof l=="string"?parseFloat(l):l;return isNaN(_)?"":_.toLocaleString("ru-RU",{minimumFractionDigits:p,maximumFractionDigits:p})}function Se(l){if(l==null||l==="")return null;const _=String(l).trim().replace(",","."),E=parseFloat(_);return isNaN(E)?null:E}function tt(l){return Se(l)}function ne(l,p=1){return et(l,p)}const at={class:"card-header"},ot={key:1},nt={key:0,class:"metric-description"},lt={key:2,class:"metrics-info"},st={class:"info-row"},rt={key:0,class:"info-row"},it={__name:"MetricsEditor",props:{reportId:{type:String,required:!0}},emits:["metrics-updated"],setup(l,{emit:p}){const _=l,E=p,T=v(!1),D=v(!1),F=v(!1),L=v(null),J=v([]),R=v([]),C=v({metrics:{}}),z=v({}),Y=we(()=>!R.value||R.value.length===0?[]:[...new Set(R.value.map(s=>s.source))]),H=we(()=>!R.value||R.value.length===0?null:new Date),I=async()=>{try{const s=await ge.listMetricDefs(!0);J.value=s.items||[]}catch(s){console.error("Failed to load metric definitions:",s),L.value="Не удалось загрузить определения метрик"}},N=async()=>{T.value=!0,L.value=null;try{const s=await ge.listExtractedMetrics(_.reportId);R.value=s.items||[],C.value.metrics={},R.value.forEach(i=>{C.value.metrics[i.metric_def_id]=Se(i.value)}),z.value=JSON.parse(JSON.stringify(C.value.metrics))}catch(s){console.error("Failed to load metrics:",s),L.value="Не удалось загрузить метрики"}finally{T.value=!1}},X=s=>[{validator:(i,g,O)=>{if(g==null||g===""){O();return}const q=s.min_value||1,P=s.max_value||10;g<q?O(new Error(`Значение должно быть не меньше ${q}`)):g>P?O(new Error(`Значение должно быть не больше ${P}`)):O()},trigger:"change"}],G=()=>{F.value=!0,z.value=JSON.parse(JSON.stringify(C.value.metrics))},K=()=>{C.value.metrics=JSON.parse(JSON.stringify(z.value)),F.value=!1,L.value=null},A=async()=>{D.value=!0,L.value=null;try{const s=[];for(const[i,g]of Object.entries(C.value.metrics))if(g!=null&&g!==""){const O=tt(g);O!==null&&s.push({metric_def_id:i,value:O,source:"MANUAL",notes:null})}if(s.length===0){f.warning("Не введено ни одного значения метрики"),D.value=!1;return}await ge.bulkCreateExtractedMetrics(_.reportId,s),f.success(`Успешно сохранено ${s.length} метрик`),F.value=!1,await N(),E("metrics-updated")}catch(s){console.error("Failed to save metrics:",s);let i="Не удалось сохранить метрики";s.response?.data?.detail&&(typeof s.response.data.detail=="string"?i=s.response.data.detail:Array.isArray(s.response.data.detail)&&(i=s.response.data.detail.map(g=>g.msg||g.message).join(", "))),L.value=i,f.error(i)}finally{D.value=!1}},le=s=>{switch(s){case"OCR":return"info";case"LLM":return"warning";case"MANUAL":return"success";default:return""}},V=s=>{switch(s){case"OCR":return"OCR";case"LLM":return"Gemini Vision";case"MANUAL":return"Ручной ввод";default:return s}},Q=s=>new Date(s).toLocaleString("ru-RU",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return Ee(async()=>{await I(),await N()}),Pe(()=>_.reportId,async s=>{s&&await N()}),(s,i)=>{const g=u("el-button"),O=u("el-alert"),q=u("el-input-number"),P=u("el-form-item"),se=u("el-col"),re=u("el-row"),ie=u("el-form"),ue=u("el-divider"),ce=u("el-tag"),de=u("el-card");return r(),h(de,{class:"metrics-editor"},{header:t(()=>[d("div",at,[i[4]||(i[4]=d("span",null,"Ручной ввод метрик",-1)),F.value?(r(),k("div",ot,[a(g,{size:"small",onClick:K},{default:t(()=>[...i[2]||(i[2]=[c(" Отмена ",-1)])]),_:1}),a(g,{type:"primary",size:"small",loading:D.value,onClick:A},{default:t(()=>[...i[3]||(i[3]=[c(" Сохранить ",-1)])]),_:1},8,["loading"])])):(r(),h(g,{key:0,type:"primary",size:"small",onClick:G},{default:t(()=>[...i[1]||(i[1]=[c(" Редактировать ",-1)])]),_:1}))])]),default:t(()=>[L.value?(r(),h(O,{key:0,type:"error",title:L.value,closable:"",style:{"margin-bottom":"16px"},onClose:i[0]||(i[0]=w=>L.value=null)},null,8,["title"])):U("",!0),!R.value||R.value.length===0?(r(),h(O,{key:1,type:"info",closable:!1,style:{"margin-bottom":"16px"}},{default:t(()=>[...i[5]||(i[5]=[c(" Метрики для этого отчёта ещё не извлечены. Вы можете ввести их вручную. ",-1)])]),_:1})):U("",!0),a(ie,{ref:"formRef",model:C.value,"label-position":"top",disabled:!F.value},{default:t(()=>[a(re,{gutter:20},{default:t(()=>[(r(!0),k(B,null,j(J.value,w=>(r(),h(se,{key:w.id,xs:24,sm:12,md:8,lg:6},{default:t(()=>[a(P,{label:`${w.name} ${w.unit?"("+w.unit+")":""}`,prop:`metrics.${w.id}`,rules:X(w)},{default:t(()=>[a(q,{modelValue:C.value.metrics[w.id],"onUpdate:modelValue":pe=>C.value.metrics[w.id]=pe,min:w.min_value||1,max:w.max_value||10,precision:1,step:.1,controls:!0,style:{width:"100%"},placeholder:"Введите значение"},null,8,["modelValue","onUpdate:modelValue","min","max"]),w.description?(r(),k("div",nt,y(w.description),1)):U("",!0)]),_:2},1032,["label","prop","rules"])]),_:2},1024))),128))]),_:1})]),_:1},8,["model","disabled"]),R.value&&R.value.length>0?(r(),k("div",lt,[a(ue),d("div",st,[i[6]||(i[6]=d("span",{class:"info-label"},"Источник данных:",-1)),(r(!0),k(B,null,j(Y.value,w=>(r(),h(ce,{key:w,type:le(w),size:"small",style:{"margin-left":"8px"}},{default:t(()=>[c(y(V(w)),1)]),_:2},1032,["type"]))),128))]),H.value?(r(),k("div",rt,[i[7]||(i[7]=d("span",{class:"info-label"},"Последнее обновление:",-1)),d("span",null,y(Q(H.value)),1)])):U("",!0)])):U("",!0)]),_:1})}}},ut=Le(it,[["__scopeId","data-v-32858c21"]]),ct={class:"participant-detail"},dt={class:"card-header"},pt={class:"header-actions"},mt={class:"section-header"},ft={class:"scoring-result"},_t={class:"score-value"},vt={class:"score-number"},yt={class:"score-details"},gt={class:"score-section"},wt={key:0},bt={class:"score-section"},kt={key:0},Rt={key:0,class:"score-section"},ht={key:0,class:"final-report-actions"},Ct={style:{float:"right",color:"#8492a6","font-size":"13px"}},$t={__name:"ParticipantDetailView",setup(l){const p=Ie(),_=ze(),E=Ye(),T=v(!1),D=v(!1),F=v(!1),L=v(!1),J=v(!1),R=we(()=>E.currentParticipant),C=v([]),z=v([]),Y=v([]);v([]);const H=v(null),I=v(!1),N=v(!1),X=v(!1),G=v(null),K=v([]),A=Ce({report_type:"",file:null}),le={report_type:[{required:!0,message:"Выберите тип отчёта",trigger:"change"}],file:[{required:!0,message:"Выберите файл",trigger:"change"}]},V=Ce({activityCode:""}),Q=o=>o?new Date(o).toLocaleString("ru-RU",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"",s=o=>({REPORT_1:"Отчёт 1",REPORT_2:"Отчёт 2",REPORT_3:"Отчёт 3"})[o]||o,i=o=>({UPLOADED:"Загружен",EXTRACTED:"Обработан",FAILED:"Ошибка"})[o]||o,g=o=>({UPLOADED:"info",EXTRACTED:"success",FAILED:"danger"})[o]||"info",O=o=>o>=80?"success":o>=60?"":"warning",q=async()=>{T.value=!0;try{await E.getParticipant(_.params.id)}catch{f.error("Участник не найден"),p.push("/participants")}finally{T.value=!1}},P=async()=>{D.value=!0;try{const o=await Ze.getReports(_.params.id);C.value=o.items||[]}catch(o){console.error("Error loading reports:",o),f.error("Ошибка загрузки списка отчётов")}finally{D.value=!1}},se=async()=>{try{const o=await oe.getHistory(_.params.id);z.value=o.results||[]}catch(o){console.error("Error loading scoring results:",o)}},re=async()=>{F.value=!0;try{const o=await We.list();Y.value=o.activities||[]}catch{f.error("Ошибка загрузки профессиональных областей")}finally{F.value=!1}},ie=o=>{A.file=o.raw,K.value=[o]},ue=async()=>{G.value&&await G.value.validate(async o=>{if(o){if(!A.file){f.error("Выберите файл");return}L.value=!0;try{await ae.upload(_.params.id,A.report_type,A.file),f.success("Отчёт загружен успешно"),I.value=!1,A.report_type="",A.file=null,K.value=[],await P()}catch{f.error("Ошибка загрузки отчёта")}finally{L.value=!1}}})},ce=async o=>{try{const e=await ae.download(o),m=window.URL.createObjectURL(new Blob([e.data])),b=document.createElement("a");b.href=m,b.setAttribute("download",`report_${o}.docx`),document.body.appendChild(b),b.click(),b.remove(),window.URL.revokeObjectURL(m),f.success("Отчёт скачан")}catch{f.error("Ошибка скачивания отчёта")}},de=async o=>{try{await ae.extract(o),f.success("Извлечение метрик запущено"),setTimeout(()=>P(),2e3)}catch{f.error("Ошибка запуска извлечения метрик")}},w=async o=>{H.value=o,X.value=!0},pe=()=>{f.success("Метрики обновлены")},xe=o=>{Ke.confirm(`Вы уверены, что хотите удалить отчёт "${s(o.type)}"?`,"Подтверждение удаления",{confirmButtonText:"Удалить",cancelButtonText:"Отмена",type:"warning"}).then(async()=>{try{await ae.delete(o.id),f.success("Отчёт удалён"),await P()}catch{f.error("Ошибка удаления отчёта")}}).catch(()=>{})},Oe=async()=>{if(!V.activityCode){f.warning("Выберите профессиональную область");return}J.value=!0;try{const o=await oe.calculate(_.params.id,V.activityCode);z.value.unshift({id:o.scoring_result_id,prof_activity_code:o.prof_activity_code||V.activityCode,prof_activity_name:o.prof_activity_name,score_pct:parseFloat(o.score_pct),strengths:o.strengths||[],dev_areas:o.dev_areas||[],recommendations:o.recommendations||[],created_at:new Date().toISOString()}),f.success("Расчёт пригодности выполнен"),N.value=!1,V.activityCode=""}catch(o){console.error("Scoring calculation error:",o);const e=o.response?.data?.detail||"Ошибка расчёта пригодности";f.error(e)}finally{J.value=!1}},Me=async o=>{if(!o.prof_activity_code){f.warning("Код профессиональной деятельности не найден");return}try{const e=await oe.getFinalReport(_.params.id,o.prof_activity_code,"json"),m=JSON.stringify(e,null,2),b=new Blob([m],{type:"application/json"}),S=window.URL.createObjectURL(b);window.open(S,"_blank"),window.URL.revokeObjectURL(S),f.success("Отчёт JSON открыт в новой вкладке")}catch(e){console.error("Error viewing final report JSON:",e);const m=e.response?.data?.detail||"Ошибка загрузки финального отчёта";f.error(m)}},Ue=async o=>{if(!o.prof_activity_code){f.warning("Код профессиональной деятельности не найден");return}try{const e=await oe.getFinalReport(_.params.id,o.prof_activity_code,"html"),m=new Blob([e],{type:"text/html"}),b=window.URL.createObjectURL(m),S=document.createElement("a");S.href=b,S.setAttribute("download",`final_report_${o.prof_activity_code}_${new Date().toISOString().split("T")[0]}.html`),document.body.appendChild(S),S.click(),S.remove(),window.URL.revokeObjectURL(b),f.success("Отчёт HTML скачан")}catch(e){console.error("Error downloading final report HTML:",e);const m=e.response?.data?.detail||"Ошибка загрузки финального отчёта";f.error(m)}};return Ee(async()=>{await q(),await P(),await se(),await re()}),(o,e)=>{const m=u("el-button"),b=u("el-icon"),S=u("el-descriptions-item"),Ae=u("el-descriptions"),Z=u("el-card"),be=u("el-tag"),ee=u("el-table-column"),Te=u("el-table"),me=u("el-empty"),Ve=u("el-progress"),De=u("el-timeline-item"),Fe=u("el-timeline"),te=u("el-option"),ke=u("el-select"),fe=u("el-form-item"),Ne=u("el-upload"),Re=u("el-form"),_e=u("el-dialog"),he=u("el-alert"),ve=Be("loading");return r(),h(Qe,null,{default:t(()=>[ye((r(),k("div",ct,[R.value?(r(),h(Z,{key:0,class:"detail-card"},{header:t(()=>[d("div",dt,[d("h2",null,y(R.value.full_name),1),d("div",pt,[a(m,{onClick:e[0]||(e[0]=n=>x(p).back())},{default:t(()=>[...e[10]||(e[10]=[c(" Назад ",-1)])]),_:1}),a(m,{type:"primary",onClick:e[1]||(e[1]=n=>N.value=!0)},{default:t(()=>[a(b,null,{default:t(()=>[a(x(je))]),_:1}),e[11]||(e[11]=c(" Рассчитать пригодность ",-1))]),_:1})])])]),default:t(()=>[a(Ae,{column:2,border:""},{default:t(()=>[a(S,{label:"ФИО"},{default:t(()=>[c(y(R.value.full_name),1)]),_:1}),a(S,{label:"Дата рождения"},{default:t(()=>[c(y(R.value.birth_date||"Не указана"),1)]),_:1}),a(S,{label:"Внешний ID"},{default:t(()=>[c(y(R.value.external_id||"Не указан"),1)]),_:1}),a(S,{label:"Дата создания"},{default:t(()=>[c(y(Q(R.value.created_at)),1)]),_:1})]),_:1})]),_:1})):U("",!0),a(Z,{class:"section-card"},{header:t(()=>[d("div",mt,[e[13]||(e[13]=d("h3",null,"Отчёты",-1)),a(m,{type:"primary",onClick:e[2]||(e[2]=n=>I.value=!0)},{default:t(()=>[a(b,null,{default:t(()=>[a(x(Xe))]),_:1}),e[12]||(e[12]=c(" Загрузить отчёт ",-1))]),_:1})])]),default:t(()=>[ye((r(),h(Te,{data:C.value,stripe:""},{default:t(()=>[a(ee,{prop:"type",label:"Тип",width:"120"},{default:t(({row:n})=>[a(be,null,{default:t(()=>[c(y(s(n.type)),1)]),_:2},1024)]),_:1}),a(ee,{prop:"status",label:"Статус",width:"150"},{default:t(({row:n})=>[a(be,{type:g(n.status)},{default:t(()=>[c(y(i(n.status)),1)]),_:2},1032,["type"])]),_:1}),a(ee,{prop:"created_at",label:"Дата загрузки",width:"180"},{default:t(({row:n})=>[c(y(Q(n.created_at)),1)]),_:1}),a(ee,{label:"Действия",width:"400",fixed:"right"},{default:t(({row:n})=>[a(m,{size:"small",onClick:$=>ce(n.id)},{default:t(()=>[a(b,null,{default:t(()=>[a(x($e))]),_:1}),e[14]||(e[14]=c(" Скачать ",-1))]),_:1},8,["onClick"]),a(m,{size:"small",type:"primary",disabled:n.status==="EXTRACTED",onClick:$=>de(n.id)},{default:t(()=>[a(b,null,{default:t(()=>[a(x(Je))]),_:1}),e[15]||(e[15]=c(" Извлечь метрики ",-1))]),_:1},8,["disabled","onClick"]),a(m,{size:"small",type:"info",onClick:$=>w(n.id)},{default:t(()=>[a(b,null,{default:t(()=>[a(x(He))]),_:1}),e[16]||(e[16]=c(" Метрики ",-1))]),_:1},8,["onClick"]),a(m,{size:"small",type:"danger",onClick:$=>xe(n)},{default:t(()=>[a(b,null,{default:t(()=>[a(x(qe))]),_:1}),e[17]||(e[17]=c(" Удалить ",-1))]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])),[[ve,D.value]]),!C.value.length&&!D.value?(r(),h(me,{key:0,description:"Нет загруженных отчётов"})):U("",!0)]),_:1}),z.value.length>0?(r(),h(Z,{key:1,class:"section-card"},{header:t(()=>[...e[18]||(e[18]=[d("h3",null,"История оценок пригодности",-1)])]),default:t(()=>[a(Fe,null,{default:t(()=>[(r(!0),k(B,null,j(z.value,n=>(r(),h(De,{key:n.id,timestamp:Q(n.created_at),placement:"top"},{default:t(()=>[a(Z,null,{default:t(()=>[d("h4",null,y(n.prof_activity_name),1),d("div",ft,[d("div",_t,[d("span",vt,y(n.score_pct)+"%",1),a(Ve,{percentage:n.score_pct,status:O(n.score_pct)},null,8,["percentage","status"])]),d("div",yt,[d("div",gt,[e[19]||(e[19]=d("h5",null,"Сильные стороны:",-1)),n.strengths&&n.strengths.length?(r(),k("ul",wt,[(r(!0),k(B,null,j(n.strengths,($,W)=>(r(),k("li",{key:W},[d("strong",null,y($.metric_name),1),c(" — "+y(x(ne)($.value))+" (вес "+y(x(ne)($.weight,2))+") ",1)]))),128))])):(r(),h(me,{key:1,description:"Нет данных","image-size":60}))]),d("div",bt,[e[20]||(e[20]=d("h5",null,"Зоны развития:",-1)),n.dev_areas&&n.dev_areas.length?(r(),k("ul",kt,[(r(!0),k(B,null,j(n.dev_areas,($,W)=>(r(),k("li",{key:W},[d("strong",null,y($.metric_name),1),c(" — "+y(x(ne)($.value))+" (вес "+y(x(ne)($.weight,2))+") ",1)]))),128))])):(r(),h(me,{key:1,description:"Нет данных","image-size":60}))]),n.recommendations&&n.recommendations.length?(r(),k("div",Rt,[e[21]||(e[21]=d("h5",null,"Рекомендации:",-1)),d("ul",null,[(r(!0),k(B,null,j(n.recommendations,($,W)=>(r(),k("li",{key:W},y($),1))),128))])])):U("",!0)]),n.prof_activity_code?(r(),k("div",ht,[a(m,{type:"info",size:"small",onClick:$=>Me(n)},{default:t(()=>[a(b,null,{default:t(()=>[a(x(Ge))]),_:1}),e[22]||(e[22]=c(" Просмотреть JSON ",-1))]),_:1},8,["onClick"]),a(m,{type:"primary",size:"small",onClick:$=>Ue(n)},{default:t(()=>[a(b,null,{default:t(()=>[a(x($e))]),_:1}),e[23]||(e[23]=c(" Скачать HTML ",-1))]),_:1},8,["onClick"])])):U("",!0)])]),_:2},1024)]),_:2},1032,["timestamp"]))),128))]),_:1})]),_:1})):U("",!0),a(_e,{modelValue:I.value,"onUpdate:modelValue":e[5]||(e[5]=n=>I.value=n),title:"Загрузить отчёт",width:"500px"},{footer:t(()=>[a(m,{onClick:e[4]||(e[4]=n=>I.value=!1)},{default:t(()=>[...e[26]||(e[26]=[c(" Отмена ",-1)])]),_:1}),a(m,{type:"primary",loading:L.value,onClick:ue},{default:t(()=>[...e[27]||(e[27]=[c(" Загрузить ",-1)])]),_:1},8,["loading"])]),default:t(()=>[a(Re,{ref_key:"uploadFormRef",ref:G,model:A,rules:le,"label-position":"top"},{default:t(()=>[a(fe,{label:"Тип отчёта",prop:"report_type"},{default:t(()=>[a(ke,{modelValue:A.report_type,"onUpdate:modelValue":e[3]||(e[3]=n=>A.report_type=n),placeholder:"Выберите тип",style:{width:"100%"}},{default:t(()=>[a(te,{label:"Отчёт 1",value:"REPORT_1"}),a(te,{label:"Отчёт 2",value:"REPORT_2"}),a(te,{label:"Отчёт 3",value:"REPORT_3"})]),_:1},8,["modelValue"])]),_:1}),a(fe,{label:"Файл (DOCX)",prop:"file"},{default:t(()=>[a(Ne,{ref:"uploadRef","auto-upload":!1,limit:1,accept:".docx","on-change":ie,"file-list":K.value},{tip:t(()=>[...e[25]||(e[25]=[d("div",{class:"el-upload__tip"}," Только файлы DOCX, максимум 20 МБ ",-1)])]),default:t(()=>[a(m,{type:"primary"},{default:t(()=>[...e[24]||(e[24]=[c(" Выбрать файл ",-1)])]),_:1})]),_:1},8,["file-list"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),a(_e,{modelValue:N.value,"onUpdate:modelValue":e[8]||(e[8]=n=>N.value=n),title:"Рассчитать профессиональную пригодность",width:"500px"},{footer:t(()=>[a(m,{onClick:e[7]||(e[7]=n=>N.value=!1)},{default:t(()=>[...e[28]||(e[28]=[c(" Отмена ",-1)])]),_:1}),a(m,{type:"primary",loading:J.value,disabled:!V.activityCode||C.value.length===0,onClick:Oe},{default:t(()=>[...e[29]||(e[29]=[c(" Рассчитать ",-1)])]),_:1},8,["loading","disabled"])]),default:t(()=>[a(Re,{model:V,"label-position":"top"},{default:t(()=>[a(fe,{label:"Профессиональная область",required:""},{default:t(()=>[ye((r(),h(ke,{modelValue:V.activityCode,"onUpdate:modelValue":e[6]||(e[6]=n=>V.activityCode=n),placeholder:"Выберите область",style:{width:"100%"}},{default:t(()=>[(r(!0),k(B,null,j(Y.value,n=>(r(),h(te,{key:n.code,label:n.name,value:n.code},{default:t(()=>[d("span",null,y(n.name),1),d("span",Ct,y(n.code),1)]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])),[[ve,F.value]])]),_:1}),a(he,{title:"Убедитесь, что у участника загружены и обработаны отчёты с метриками",type:"info",closable:!1,"show-icon":""}),C.value.length===0?(r(),h(he,{key:0,title:"У участника нет загруженных отчётов",type:"warning",closable:!1,"show-icon":"",style:{"margin-top":"12px"}})):U("",!0)]),_:1},8,["model"])]),_:1},8,["modelValue"]),a(_e,{modelValue:X.value,"onUpdate:modelValue":e[9]||(e[9]=n=>X.value=n),title:"Метрики отчёта",width:"90%",top:"5vh"},{default:t(()=>[H.value?(r(),h(ut,{key:0,"report-id":H.value,onMetricsUpdated:pe},null,8,["report-id"])):U("",!0)]),_:1},8,["modelValue"])])),[[ve,T.value]])]),_:1})}}},Mt=Le($t,[["__scopeId","data-v-b89da3bb"]]);export{Mt as default};
