import{G as A,m as v,H as we,z as Ee,I as Pe,r as u,q as h,o as s,w as t,v as M,d as a,c as k,f as d,J as B,K as j,L as y,a as c,E as m,n as Ce,p as ze,e as Ie,A as Be,B as ye,u as L,t as je,M as $e,h as Je,N as He,O as qe,P as Xe,Q as Ge,F as Ke}from"./index-Dyo1usyV.js";import{A as Qe}from"./AppLayout-DBCcnYG7.js";import{m as ge,p as We}from"./metrics-DioPVLb6.js";import{_ as Se}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{u as Ye,p as Ze}from"./participants-BZ5_YBHE.js";const ae={async upload(l,f,_){const E=new FormData;return E.append("report_type",f),E.append("file",_),(await A.post(`/participants/${l}/reports`,E,{headers:{"Content-Type":"multipart/form-data"}})).data},async download(l){return await A.get(`/reports/${l}/download`,{responseType:"blob"})},async getById(l){return(await A.get(`/reports/${l}`)).data},async delete(l){return(await A.delete(`/reports/${l}`)).data},async extract(l){return(await A.post(`/reports/${l}/extract`)).data},async getMetrics(l){return(await A.get(`/reports/${l}/metrics`)).data}},oe={async calculate(l,f){return(await A.post(`/scoring/participants/${l}/calculate`,null,{params:{activity_code:f}})).data},async getHistory(l){return(await A.get(`/participants/${l}/scores`)).data},async getById(l){return(await A.get(`/scoring-results/${l}`)).data},async generateRecommendations(l){return(await A.post(`/reports/${l}/recommendations`)).data},async getFinalReport(l,f,_="json"){const E={params:{activity_code:f,format:_}};_==="html"&&(E.responseType="text");const T=await A.get(`/participants/${l}/final-report`,E);return T.data}};function et(l,f=1){if(l==null||l==="")return"";const _=typeof l=="string"?parseFloat(l):l;return isNaN(_)?"":_.toLocaleString("ru-RU",{minimumFractionDigits:f,maximumFractionDigits:f})}function xe(l){if(l==null||l==="")return null;const _=String(l).trim().replace(",","."),E=parseFloat(_);return isNaN(E)?null:E}function tt(l){return xe(l)}function ne(l,f=1){return et(l,f)}const at={class:"card-header"},ot={key:1},nt={key:0,class:"metric-description"},lt={key:2,class:"metrics-info"},rt={class:"info-row"},st={key:0,class:"info-row"},it={__name:"MetricsEditor",props:{reportId:{type:String,required:!0}},emits:["metrics-updated"],setup(l,{emit:f}){const _=l,E=f,T=v(!1),D=v(!1),F=v(!1),S=v(null),J=v([]),R=v([]),C=v({metrics:{}}),z=v({}),Y=we(()=>!R.value||R.value.length===0?[]:[...new Set(R.value.map(r=>r.source))]),H=we(()=>!R.value||R.value.length===0?null:new Date),I=async()=>{try{const r=await ge.listMetricDefs(!0);J.value=r.items||[]}catch(r){console.error("Failed to load metric definitions:",r),S.value="Не удалось загрузить определения метрик"}},N=async()=>{T.value=!0,S.value=null;try{const r=await ge.listExtractedMetrics(_.reportId);R.value=r.items||[],C.value.metrics={},R.value.forEach(i=>{C.value.metrics[i.metric_def_id]=xe(i.value)}),z.value=JSON.parse(JSON.stringify(C.value.metrics))}catch(r){console.error("Failed to load metrics:",r),S.value="Не удалось загрузить метрики"}finally{T.value=!1}},X=r=>[{validator:(i,g,O)=>{if(g==null||g===""){O();return}const q=r.min_value||1,P=r.max_value||10;g<q?O(new Error(`Значение должно быть не меньше ${q}`)):g>P?O(new Error(`Значение должно быть не больше ${P}`)):O()},trigger:"change"}],G=()=>{F.value=!0,z.value=JSON.parse(JSON.stringify(C.value.metrics))},K=()=>{C.value.metrics=JSON.parse(JSON.stringify(z.value)),F.value=!1,S.value=null},U=async()=>{D.value=!0,S.value=null;try{const r=[];for(const[i,g]of Object.entries(C.value.metrics))if(g!=null&&g!==""){const O=tt(g);O!==null&&r.push({metric_def_id:i,value:O,source:"MANUAL",notes:null})}if(r.length===0){m.warning("Не введено ни одного значения метрики"),D.value=!1;return}await ge.bulkCreateExtractedMetrics(_.reportId,r),m.success(`Успешно сохранено ${r.length} метрик`),F.value=!1,await N(),E("metrics-updated")}catch(r){console.error("Failed to save metrics:",r);let i="Не удалось сохранить метрики";r.response?.data?.detail&&(typeof r.response.data.detail=="string"?i=r.response.data.detail:Array.isArray(r.response.data.detail)&&(i=r.response.data.detail.map(g=>g.msg||g.message).join(", "))),S.value=i,m.error(i)}finally{D.value=!1}},le=r=>{switch(r){case"OCR":return"info";case"LLM":return"warning";case"MANUAL":return"success";default:return""}},V=r=>{switch(r){case"OCR":return"OCR";case"LLM":return"Gemini Vision";case"MANUAL":return"Ручной ввод";default:return r}},Q=r=>new Date(r).toLocaleString("ru-RU",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return Ee(async()=>{await I(),await N()}),Pe(()=>_.reportId,async r=>{r&&await N()}),(r,i)=>{const g=u("el-button"),O=u("el-alert"),q=u("el-input-number"),P=u("el-form-item"),re=u("el-col"),se=u("el-row"),ie=u("el-form"),ue=u("el-divider"),de=u("el-tag"),ce=u("el-card");return s(),h(ce,{class:"metrics-editor"},{header:t(()=>[c("div",at,[i[4]||(i[4]=c("span",null,"Ручной ввод метрик",-1)),F.value?(s(),k("div",ot,[a(g,{size:"small",onClick:K},{default:t(()=>[...i[2]||(i[2]=[d(" Отмена ",-1)])]),_:1}),a(g,{type:"primary",size:"small",loading:D.value,onClick:U},{default:t(()=>[...i[3]||(i[3]=[d(" Сохранить ",-1)])]),_:1},8,["loading"])])):(s(),h(g,{key:0,type:"primary",size:"small",onClick:G},{default:t(()=>[...i[1]||(i[1]=[d(" Редактировать ",-1)])]),_:1}))])]),default:t(()=>[S.value?(s(),h(O,{key:0,type:"error",title:S.value,closable:"",style:{"margin-bottom":"16px"},onClose:i[0]||(i[0]=w=>S.value=null)},null,8,["title"])):M("",!0),!R.value||R.value.length===0?(s(),h(O,{key:1,type:"info",closable:!1,style:{"margin-bottom":"16px"}},{default:t(()=>[...i[5]||(i[5]=[d(" Метрики для этого отчёта ещё не извлечены. Вы можете ввести их вручную. ",-1)])]),_:1})):M("",!0),a(ie,{ref:"formRef",model:C.value,"label-position":"top",disabled:!F.value},{default:t(()=>[a(se,{gutter:20},{default:t(()=>[(s(!0),k(B,null,j(J.value,w=>(s(),h(re,{key:w.id,xs:24,sm:12,md:8,lg:6},{default:t(()=>[a(P,{label:`${w.name} ${w.unit?"("+w.unit+")":""}`,prop:`metrics.${w.id}`,rules:X(w)},{default:t(()=>[a(q,{modelValue:C.value.metrics[w.id],"onUpdate:modelValue":pe=>C.value.metrics[w.id]=pe,min:w.min_value||1,max:w.max_value||10,precision:1,step:.1,controls:!0,style:{width:"100%"},placeholder:"Введите значение"},null,8,["modelValue","onUpdate:modelValue","min","max"]),w.description?(s(),k("div",nt,y(w.description),1)):M("",!0)]),_:2},1032,["label","prop","rules"])]),_:2},1024))),128))]),_:1})]),_:1},8,["model","disabled"]),R.value&&R.value.length>0?(s(),k("div",lt,[a(ue),c("div",rt,[i[6]||(i[6]=c("span",{class:"info-label"},"Источник данных:",-1)),(s(!0),k(B,null,j(Y.value,w=>(s(),h(de,{key:w,type:le(w),size:"small",style:{"margin-left":"8px"}},{default:t(()=>[d(y(V(w)),1)]),_:2},1032,["type"]))),128))]),H.value?(s(),k("div",st,[i[7]||(i[7]=c("span",{class:"info-label"},"Последнее обновление:",-1)),c("span",null,y(Q(H.value)),1)])):M("",!0)])):M("",!0)]),_:1})}}},ut=Se(it,[["__scopeId","data-v-32858c21"]]),dt={class:"participant-detail"},ct={class:"card-header"},pt={class:"header-actions"},mt={class:"section-header"},ft={class:"scoring-result"},_t={class:"score-value"},vt={class:"score-number"},yt={class:"score-details"},gt={class:"score-section"},wt={key:0},bt={class:"score-section"},kt={key:0},Rt={key:0,class:"score-section"},ht={key:0,class:"final-report-actions"},Ct={style:{float:"right",color:"#8492a6","font-size":"13px"}},$t={__name:"ParticipantDetailView",setup(l){const f=Ie(),_=ze(),E=Ye(),T=v(!1),D=v(!1),F=v(!1),S=v(!1),J=v(!1),R=we(()=>E.currentParticipant),C=v([]),z=v([]),Y=v([]);v([]);const H=v(null),I=v(!1),N=v(!1),X=v(!1),G=v(null),K=v([]),U=Ce({report_type:"",file:null}),le={report_type:[{required:!0,message:"Выберите тип отчёта",trigger:"change"}],file:[{required:!0,message:"Выберите файл",trigger:"change"}]},V=Ce({activityCode:""}),Q=o=>o?new Date(o).toLocaleString("ru-RU",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"",r=o=>({REPORT_1:"Отчёт 1",REPORT_2:"Отчёт 2",REPORT_3:"Отчёт 3"})[o]||o,i=o=>({UPLOADED:"Загружен",EXTRACTED:"Обработан",FAILED:"Ошибка"})[o]||o,g=o=>({UPLOADED:"info",EXTRACTED:"success",FAILED:"danger"})[o]||"info",O=o=>o>=80?"success":o>=60?"":"warning",q=async()=>{T.value=!0;try{await E.getParticipant(_.params.id)}catch{m.error("Участник не найден"),f.push("/participants")}finally{T.value=!1}},P=async()=>{D.value=!0;try{const o=await Ze.getReports(_.params.id);C.value=o.reports||[]}catch(o){console.error("Error loading reports:",o),m.error("Ошибка загрузки списка отчётов")}finally{D.value=!1}},re=async()=>{try{const o=await oe.getHistory(_.params.id);z.value=o.results||[]}catch(o){console.error("Error loading scoring results:",o)}},se=async()=>{F.value=!0;try{const o=await We.list();Y.value=o.activities||[]}catch{m.error("Ошибка загрузки профессиональных областей")}finally{F.value=!1}},ie=o=>{U.file=o.raw,K.value=[o]},ue=async()=>{G.value&&await G.value.validate(async o=>{if(o){if(!U.file){m.error("Выберите файл");return}S.value=!0;try{await ae.upload(_.params.id,U.report_type,U.file),m.success("Отчёт загружен успешно"),I.value=!1,U.report_type="",U.file=null,K.value=[],await P()}catch{m.error("Ошибка загрузки отчёта")}finally{S.value=!1}}})},de=async o=>{try{const e=await ae.download(o),p=window.URL.createObjectURL(new Blob([e.data])),b=document.createElement("a");b.href=p,b.setAttribute("download",`report_${o}.docx`),document.body.appendChild(b),b.click(),b.remove(),window.URL.revokeObjectURL(p),m.success("Отчёт скачан")}catch{m.error("Ошибка скачивания отчёта")}},ce=async o=>{try{await ae.extract(o),m.success("Извлечение метрик запущено"),setTimeout(()=>P(),2e3)}catch{m.error("Ошибка запуска извлечения метрик")}},w=async o=>{H.value=o,X.value=!0},pe=()=>{m.success("Метрики обновлены")},Le=o=>{Ke.confirm(`Вы уверены, что хотите удалить отчёт "${r(o.report_type)}"?`,"Подтверждение удаления",{confirmButtonText:"Удалить",cancelButtonText:"Отмена",type:"warning"}).then(async()=>{try{await ae.delete(o.id),m.success("Отчёт удалён"),await P()}catch{m.error("Ошибка удаления отчёта")}}).catch(()=>{})},Oe=async()=>{if(!V.activityCode){m.warning("Выберите профессиональную область");return}J.value=!0;try{const o=await oe.calculate(_.params.id,V.activityCode);z.value.unshift({id:o.scoring_result_id,prof_activity_code:o.prof_activity_code||V.activityCode,prof_activity_name:o.prof_activity_name,score_pct:parseFloat(o.score_pct),strengths:o.strengths||[],dev_areas:o.dev_areas||[],recommendations:o.recommendations||[],created_at:new Date().toISOString()}),m.success("Расчёт пригодности выполнен"),N.value=!1,V.activityCode=""}catch(o){console.error("Scoring calculation error:",o);const e=o.response?.data?.detail||"Ошибка расчёта пригодности";m.error(e)}finally{J.value=!1}},Me=async o=>{if(!o.prof_activity_code){m.warning("Код профессиональной деятельности не найден");return}try{const e=await oe.getFinalReport(_.params.id,o.prof_activity_code,"json"),p=JSON.stringify(e,null,2),b=new Blob([p],{type:"application/json"}),x=window.URL.createObjectURL(b);window.open(x,"_blank"),window.URL.revokeObjectURL(x),m.success("Отчёт JSON открыт в новой вкладке")}catch(e){console.error("Error viewing final report JSON:",e);const p=e.response?.data?.detail||"Ошибка загрузки финального отчёта";m.error(p)}},Ue=async o=>{if(!o.prof_activity_code){m.warning("Код профессиональной деятельности не найден");return}try{const e=await oe.getFinalReport(_.params.id,o.prof_activity_code,"html"),p=new Blob([e],{type:"text/html"}),b=window.URL.createObjectURL(p),x=document.createElement("a");x.href=b,x.setAttribute("download",`final_report_${o.prof_activity_code}_${new Date().toISOString().split("T")[0]}.html`),document.body.appendChild(x),x.click(),x.remove(),window.URL.revokeObjectURL(b),m.success("Отчёт HTML скачан")}catch(e){console.error("Error downloading final report HTML:",e);const p=e.response?.data?.detail||"Ошибка загрузки финального отчёта";m.error(p)}};return Ee(async()=>{await q(),await P(),await re(),await se()}),(o,e)=>{const p=u("el-button"),b=u("el-icon"),x=u("el-descriptions-item"),Ae=u("el-descriptions"),Z=u("el-card"),be=u("el-tag"),ee=u("el-table-column"),Te=u("el-table"),me=u("el-empty"),Ve=u("el-progress"),De=u("el-timeline-item"),Fe=u("el-timeline"),te=u("el-option"),ke=u("el-select"),fe=u("el-form-item"),Ne=u("el-upload"),Re=u("el-form"),_e=u("el-dialog"),he=u("el-alert"),ve=Be("loading");return s(),h(Qe,null,{default:t(()=>[ye((s(),k("div",dt,[R.value?(s(),h(Z,{key:0,class:"detail-card"},{header:t(()=>[c("div",ct,[c("h2",null,y(R.value.full_name),1),c("div",pt,[a(p,{onClick:e[0]||(e[0]=n=>L(f).back())},{default:t(()=>[...e[10]||(e[10]=[d(" Назад ",-1)])]),_:1}),a(p,{type:"primary",onClick:e[1]||(e[1]=n=>N.value=!0)},{default:t(()=>[a(b,null,{default:t(()=>[a(L(je))]),_:1}),e[11]||(e[11]=d(" Рассчитать пригодность ",-1))]),_:1})])])]),default:t(()=>[a(Ae,{column:2,border:""},{default:t(()=>[a(x,{label:"ФИО"},{default:t(()=>[d(y(R.value.full_name),1)]),_:1}),a(x,{label:"Дата рождения"},{default:t(()=>[d(y(R.value.birth_date||"Не указана"),1)]),_:1}),a(x,{label:"Внешний ID"},{default:t(()=>[d(y(R.value.external_id||"Не указан"),1)]),_:1}),a(x,{label:"Дата создания"},{default:t(()=>[d(y(Q(R.value.created_at)),1)]),_:1})]),_:1})]),_:1})):M("",!0),a(Z,{class:"section-card"},{header:t(()=>[c("div",mt,[e[13]||(e[13]=c("h3",null,"Отчёты",-1)),a(p,{type:"primary",onClick:e[2]||(e[2]=n=>I.value=!0)},{default:t(()=>[a(b,null,{default:t(()=>[a(L(Xe))]),_:1}),e[12]||(e[12]=d(" Загрузить отчёт ",-1))]),_:1})])]),default:t(()=>[ye((s(),h(Te,{data:C.value,stripe:""},{default:t(()=>[a(ee,{prop:"report_type",label:"Тип",width:"120"},{default:t(({row:n})=>[a(be,null,{default:t(()=>[d(y(r(n.report_type)),1)]),_:2},1024)]),_:1}),a(ee,{prop:"status",label:"Статус",width:"150"},{default:t(({row:n})=>[a(be,{type:g(n.status)},{default:t(()=>[d(y(i(n.status)),1)]),_:2},1032,["type"])]),_:1}),a(ee,{prop:"created_at",label:"Дата загрузки",width:"180"},{default:t(({row:n})=>[d(y(Q(n.created_at)),1)]),_:1}),a(ee,{label:"Действия",width:"400",fixed:"right"},{default:t(({row:n})=>[a(p,{size:"small",onClick:$=>de(n.id)},{default:t(()=>[a(b,null,{default:t(()=>[a(L($e))]),_:1}),e[14]||(e[14]=d(" Скачать ",-1))]),_:1},8,["onClick"]),a(p,{size:"small",type:"primary",disabled:n.status==="EXTRACTED",onClick:$=>ce(n.id)},{default:t(()=>[a(b,null,{default:t(()=>[a(L(Je))]),_:1}),e[15]||(e[15]=d(" Извлечь метрики ",-1))]),_:1},8,["disabled","onClick"]),a(p,{size:"small",type:"info",onClick:$=>w(n.id)},{default:t(()=>[a(b,null,{default:t(()=>[a(L(He))]),_:1}),e[16]||(e[16]=d(" Метрики ",-1))]),_:1},8,["onClick"]),a(p,{size:"small",type:"danger",onClick:$=>Le(n)},{default:t(()=>[a(b,null,{default:t(()=>[a(L(qe))]),_:1}),e[17]||(e[17]=d(" Удалить ",-1))]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])),[[ve,D.value]]),!C.value.length&&!D.value?(s(),h(me,{key:0,description:"Нет загруженных отчётов"})):M("",!0)]),_:1}),z.value.length>0?(s(),h(Z,{key:1,class:"section-card"},{header:t(()=>[...e[18]||(e[18]=[c("h3",null,"История оценок пригодности",-1)])]),default:t(()=>[a(Fe,null,{default:t(()=>[(s(!0),k(B,null,j(z.value,n=>(s(),h(De,{key:n.id,timestamp:Q(n.created_at),placement:"top"},{default:t(()=>[a(Z,null,{default:t(()=>[c("h4",null,y(n.prof_activity_name),1),c("div",ft,[c("div",_t,[c("span",vt,y(n.score_pct)+"%",1),a(Ve,{percentage:n.score_pct,status:O(n.score_pct)},null,8,["percentage","status"])]),c("div",yt,[c("div",gt,[e[19]||(e[19]=c("h5",null,"Сильные стороны:",-1)),n.strengths&&n.strengths.length?(s(),k("ul",wt,[(s(!0),k(B,null,j(n.strengths,($,W)=>(s(),k("li",{key:W},[c("strong",null,y($.metric_name),1),d(" — "+y(L(ne)($.value))+" (вес "+y(L(ne)($.weight,2))+") ",1)]))),128))])):(s(),h(me,{key:1,description:"Нет данных","image-size":60}))]),c("div",bt,[e[20]||(e[20]=c("h5",null,"Зоны развития:",-1)),n.dev_areas&&n.dev_areas.length?(s(),k("ul",kt,[(s(!0),k(B,null,j(n.dev_areas,($,W)=>(s(),k("li",{key:W},[c("strong",null,y($.metric_name),1),d(" — "+y(L(ne)($.value))+" (вес "+y(L(ne)($.weight,2))+") ",1)]))),128))])):(s(),h(me,{key:1,description:"Нет данных","image-size":60}))]),n.recommendations&&n.recommendations.length?(s(),k("div",Rt,[e[21]||(e[21]=c("h5",null,"Рекомендации:",-1)),c("ul",null,[(s(!0),k(B,null,j(n.recommendations,($,W)=>(s(),k("li",{key:W},y($),1))),128))])])):M("",!0)]),n.prof_activity_code?(s(),k("div",ht,[a(p,{type:"info",size:"small",onClick:$=>Me(n)},{default:t(()=>[a(b,null,{default:t(()=>[a(L(Ge))]),_:1}),e[22]||(e[22]=d(" Просмотреть JSON ",-1))]),_:1},8,["onClick"]),a(p,{type:"primary",size:"small",onClick:$=>Ue(n)},{default:t(()=>[a(b,null,{default:t(()=>[a(L($e))]),_:1}),e[23]||(e[23]=d(" Скачать HTML ",-1))]),_:1},8,["onClick"])])):M("",!0)])]),_:2},1024)]),_:2},1032,["timestamp"]))),128))]),_:1})]),_:1})):M("",!0),a(_e,{modelValue:I.value,"onUpdate:modelValue":e[5]||(e[5]=n=>I.value=n),title:"Загрузить отчёт",width:"500px"},{footer:t(()=>[a(p,{onClick:e[4]||(e[4]=n=>I.value=!1)},{default:t(()=>[...e[26]||(e[26]=[d(" Отмена ",-1)])]),_:1}),a(p,{type:"primary",loading:S.value,onClick:ue},{default:t(()=>[...e[27]||(e[27]=[d(" Загрузить ",-1)])]),_:1},8,["loading"])]),default:t(()=>[a(Re,{ref_key:"uploadFormRef",ref:G,model:U,rules:le,"label-position":"top"},{default:t(()=>[a(fe,{label:"Тип отчёта",prop:"report_type"},{default:t(()=>[a(ke,{modelValue:U.report_type,"onUpdate:modelValue":e[3]||(e[3]=n=>U.report_type=n),placeholder:"Выберите тип",style:{width:"100%"}},{default:t(()=>[a(te,{label:"Отчёт 1",value:"REPORT_1"}),a(te,{label:"Отчёт 2",value:"REPORT_2"}),a(te,{label:"Отчёт 3",value:"REPORT_3"})]),_:1},8,["modelValue"])]),_:1}),a(fe,{label:"Файл (DOCX)",prop:"file"},{default:t(()=>[a(Ne,{ref:"uploadRef","auto-upload":!1,limit:1,accept:".docx","on-change":ie,"file-list":K.value},{tip:t(()=>[...e[25]||(e[25]=[c("div",{class:"el-upload__tip"}," Только файлы DOCX, максимум 20 МБ ",-1)])]),default:t(()=>[a(p,{type:"primary"},{default:t(()=>[...e[24]||(e[24]=[d(" Выбрать файл ",-1)])]),_:1})]),_:1},8,["file-list"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),a(_e,{modelValue:N.value,"onUpdate:modelValue":e[8]||(e[8]=n=>N.value=n),title:"Рассчитать профессиональную пригодность",width:"500px"},{footer:t(()=>[a(p,{onClick:e[7]||(e[7]=n=>N.value=!1)},{default:t(()=>[...e[28]||(e[28]=[d(" Отмена ",-1)])]),_:1}),a(p,{type:"primary",loading:J.value,disabled:!V.activityCode||C.value.length===0,onClick:Oe},{default:t(()=>[...e[29]||(e[29]=[d(" Рассчитать ",-1)])]),_:1},8,["loading","disabled"])]),default:t(()=>[a(Re,{model:V,"label-position":"top"},{default:t(()=>[a(fe,{label:"Профессиональная область",required:""},{default:t(()=>[ye((s(),h(ke,{modelValue:V.activityCode,"onUpdate:modelValue":e[6]||(e[6]=n=>V.activityCode=n),placeholder:"Выберите область",style:{width:"100%"}},{default:t(()=>[(s(!0),k(B,null,j(Y.value,n=>(s(),h(te,{key:n.code,label:n.name,value:n.code},{default:t(()=>[c("span",null,y(n.name),1),c("span",Ct,y(n.code),1)]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])),[[ve,F.value]])]),_:1}),a(he,{title:"Убедитесь, что у участника загружены и обработаны отчёты с метриками",type:"info",closable:!1,"show-icon":""}),C.value.length===0?(s(),h(he,{key:0,title:"У участника нет загруженных отчётов",type:"warning",closable:!1,"show-icon":"",style:{"margin-top":"12px"}})):M("",!0)]),_:1},8,["model"])]),_:1},8,["modelValue"]),a(_e,{modelValue:X.value,"onUpdate:modelValue":e[9]||(e[9]=n=>X.value=n),title:"Метрики отчёта",width:"90%",top:"5vh"},{default:t(()=>[H.value?(s(),h(ut,{key:0,"report-id":H.value,onMetricsUpdated:pe},null,8,["report-id"])):M("",!0)]),_:1},8,["modelValue"])])),[[ve,T.value]])]),_:1})}}},Mt=Se($t,[["__scopeId","data-v-d431fcef"]]);export{Mt as default};
