import{G as O,m as v,H as ge,z as $e,I as Ie,r as c,q as R,o as s,w as t,v as x,d as a,c as w,f as u,J as z,K as B,L as y,a as d,E as f,n as he,p as Pe,e as ze,A as Be,B as ve,u as M,t as je,M as Ce,h as Je,N as He,O as qe,P as Xe,Q as Ge,F as Ke}from"./index-CjRazdbs.js";import{A as Qe}from"./AppLayout-1ksfAn60.js";import{m as ye,p as We}from"./metrics-DHIilfE8.js";import{_ as Le}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{u as Ye,p as Ze}from"./participants-TemejBBy.js";const ee={async upload(n,p,_){const $=new FormData;return $.append("report_type",p),$.append("file",_),(await O.post(`/participants/${n}/reports`,$,{headers:{"Content-Type":"multipart/form-data"}})).data},async download(n){return await O.get(`/reports/${n}/download`,{responseType:"blob"})},async getById(n){return(await O.get(`/reports/${n}`)).data},async delete(n){return(await O.delete(`/reports/${n}`)).data},async extract(n){return(await O.post(`/reports/${n}/extract`)).data},async getMetrics(n){return(await O.get(`/reports/${n}/metrics`)).data},async getList(n){return(await O.get(`/participants/${n}/reports`)).data}},te={async calculate(n,p){return(await O.post(`/scoring/participants/${n}/calculate`,null,{params:{activity_code:p}})).data},async getHistory(n,p=10){return(await O.get(`/scoring/participants/${n}/scores`,{params:{limit:p}})).data},async getById(n){return(await O.get(`/scoring-results/${n}`)).data},async generateRecommendations(n){return(await O.post(`/reports/${n}/recommendations`)).data},async getFinalReport(n,p,_="json"){const $={params:{activity_code:p,format:_}};_==="html"&&($.responseType="text");const A=await O.get(`/participants/${n}/final-report`,$);return A.data}};function et(n,p=1){if(n==null||n==="")return"";const _=typeof n=="string"?parseFloat(n):n;return isNaN(_)?"":_.toLocaleString("ru-RU",{minimumFractionDigits:p,maximumFractionDigits:p})}function Se(n){if(n==null||n==="")return null;const _=String(n).trim().replace(",","."),$=parseFloat(_);return isNaN($)?null:$}function tt(n){return Se(n)}function ae(n,p=1){return et(n,p)}const at={class:"card-header"},ot={key:1},lt={key:0,class:"metric-description"},nt={key:2,class:"metrics-info"},st={class:"info-row"},rt={key:0,class:"info-row"},it={__name:"MetricsEditor",props:{reportId:{type:String,required:!0}},emits:["metrics-updated"],setup(n,{emit:p}){const _=n,$=p,A=v(!1),V=v(!1),D=v(!1),L=v(null),j=v([]),b=v([]),h=v({metrics:{}}),N=v({}),Q=ge(()=>!b.value||b.value.length===0?[]:[...new Set(b.value.map(r=>r.source))]),J=ge(()=>!b.value||b.value.length===0?null:new Date),I=async()=>{try{const r=await ye.listMetricDefs(!0);j.value=r.items||[]}catch(r){console.error("Failed to load metric definitions:",r),L.value="Не удалось загрузить определения метрик"}},F=async()=>{A.value=!0,L.value=null;try{const r=await ye.listExtractedMetrics(_.reportId);b.value=r.items||[],h.value.metrics={},b.value.forEach(i=>{h.value.metrics[i.metric_def_id]=Se(i.value)}),N.value=JSON.parse(JSON.stringify(h.value.metrics))}catch(r){console.error("Failed to load metrics:",r),L.value="Не удалось загрузить метрики"}finally{A.value=!1}},q=()=>{D.value=!0,N.value=JSON.parse(JSON.stringify(h.value.metrics))},X=()=>{h.value.metrics=JSON.parse(JSON.stringify(N.value)),D.value=!1,L.value=null},G=async()=>{V.value=!0,L.value=null;try{const r=[];for(const[i,S]of Object.entries(h.value.metrics))if(S!=null&&S!==""){const P=tt(S);P!==null&&r.push({metric_def_id:i,value:P,source:"MANUAL",notes:null})}if(r.length===0){f.warning("Не введено ни одного значения метрики"),V.value=!1;return}await ye.bulkCreateExtractedMetrics(_.reportId,r),f.success(`Успешно сохранено ${r.length} метрик`),D.value=!1,await F(),$("metrics-updated")}catch(r){console.error("Failed to save metrics:",r);let i="Не удалось сохранить метрики";r.response?.data?.detail&&(typeof r.response.data.detail=="string"?i=r.response.data.detail:Array.isArray(r.response.data.detail)&&(i=r.response.data.detail.map(S=>S.msg||S.message).join(", "))),L.value=i,f.error(i)}finally{V.value=!1}},U=r=>{switch(r){case"OCR":return"info";case"LLM":return"warning";case"MANUAL":return"success";default:return""}},oe=r=>{switch(r){case"OCR":return"OCR";case"LLM":return"Gemini Vision";case"MANUAL":return"Ручной ввод";default:return r}},T=r=>new Date(r).toLocaleString("ru-RU",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return $e(async()=>{await I(),await F()}),Ie(()=>_.reportId,async r=>{r&&await F()}),(r,i)=>{const S=c("el-button"),P=c("el-alert"),le=c("MetricInput"),ne=c("el-form-item"),H=c("el-col"),se=c("el-row"),re=c("el-form"),ie=c("el-divider"),ce=c("el-tag"),ue=c("el-card");return s(),R(ue,{class:"metrics-editor"},{header:t(()=>[d("div",at,[i[4]||(i[4]=d("span",null,"Ручной ввод метрик",-1)),D.value?(s(),w("div",ot,[a(S,{size:"small",onClick:X},{default:t(()=>[...i[2]||(i[2]=[u(" Отмена ",-1)])]),_:1}),a(S,{type:"primary",size:"small",loading:V.value,onClick:G},{default:t(()=>[...i[3]||(i[3]=[u(" Сохранить ",-1)])]),_:1},8,["loading"])])):(s(),R(S,{key:0,type:"primary",size:"small",onClick:q},{default:t(()=>[...i[1]||(i[1]=[u(" Редактировать ",-1)])]),_:1}))])]),default:t(()=>[L.value?(s(),R(P,{key:0,type:"error",title:L.value,closable:"",style:{"margin-bottom":"16px"},onClose:i[0]||(i[0]=k=>L.value=null)},null,8,["title"])):x("",!0),!b.value||b.value.length===0?(s(),R(P,{key:1,type:"info",closable:!1,style:{"margin-bottom":"16px"}},{default:t(()=>[...i[5]||(i[5]=[u(" Метрики для этого отчёта ещё не извлечены. Вы можете ввести их вручную. ",-1)])]),_:1})):x("",!0),a(re,{ref:"formRef",model:h.value,"label-position":"top",disabled:!D.value},{default:t(()=>[a(se,{gutter:20},{default:t(()=>[(s(!0),w(z,null,B(j.value,k=>(s(),R(H,{key:k.id,xs:24,sm:12,md:8,lg:6},{default:t(()=>[a(ne,{label:`${k.name} ${k.unit?"("+k.unit+")":""}`,prop:`metrics.${k.id}`},{default:t(()=>[a(le,{modelValue:h.value.metrics[k.id],"onUpdate:modelValue":de=>h.value.metrics[k.id]=de,min:k.min_value||1,max:k.max_value||10,precision:1,step:.1,disabled:!D.value,"show-controls":!0,placeholder:"Введите значение (например: 7,5)"},null,8,["modelValue","onUpdate:modelValue","min","max","disabled"]),k.description?(s(),w("div",lt,y(k.description),1)):x("",!0)]),_:2},1032,["label","prop"])]),_:2},1024))),128))]),_:1})]),_:1},8,["model","disabled"]),b.value&&b.value.length>0?(s(),w("div",nt,[a(ie),d("div",st,[i[6]||(i[6]=d("span",{class:"info-label"},"Источник данных:",-1)),(s(!0),w(z,null,B(Q.value,k=>(s(),R(ce,{key:k,type:U(k),size:"small",style:{"margin-left":"8px"}},{default:t(()=>[u(y(oe(k)),1)]),_:2},1032,["type"]))),128))]),J.value?(s(),w("div",rt,[i[7]||(i[7]=d("span",{class:"info-label"},"Последнее обновление:",-1)),d("span",null,y(T(J.value)),1)])):x("",!0)])):x("",!0)]),_:1})}}},ct=Le(it,[["__scopeId","data-v-7c4b5e0c"]]),ut={class:"participant-detail"},dt={class:"card-header"},pt={class:"header-actions"},mt={class:"section-header"},ft={class:"scoring-result"},_t={class:"score-value"},vt={class:"score-number"},yt={class:"score-details"},gt={class:"score-section"},wt={key:0},bt={class:"score-section"},kt={key:0},Rt={key:0,class:"score-section"},ht={key:0,class:"final-report-actions"},Ct={style:{float:"right",color:"#8492a6","font-size":"13px"}},$t={__name:"ParticipantDetailView",setup(n){const p=ze(),_=Pe(),$=Ye(),A=v(!1),V=v(!1),D=v(!1),L=v(!1),j=v(!1),b=ge(()=>$.currentParticipant),h=v([]),N=v([]),Q=v([]);v([]);const J=v(null),I=v(!1),F=v(!1),q=v(!1),X=v(null),G=v([]),U=he({report_type:"",file:null}),oe={report_type:[{required:!0,message:"Выберите тип отчёта",trigger:"change"}],file:[{required:!0,message:"Выберите файл",trigger:"change"}]},T=he({activityCode:""}),r=o=>o?new Date(o).toLocaleString("ru-RU",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"",i=o=>({REPORT_1:"Отчёт 1",REPORT_2:"Отчёт 2",REPORT_3:"Отчёт 3"})[o]||o,S=o=>({UPLOADED:"Загружен",EXTRACTED:"Обработан",FAILED:"Ошибка"})[o]||o,P=o=>({UPLOADED:"info",EXTRACTED:"success",FAILED:"danger"})[o]||"info",le=o=>o>=80?"success":o>=60?"":"warning",ne=async()=>{A.value=!0;try{await $.getParticipant(_.params.id)}catch{f.error("Участник не найден"),p.push("/participants")}finally{A.value=!1}},H=async()=>{V.value=!0;try{const o=await Ze.getReports(_.params.id);h.value=o.items||[]}catch(o){console.error("Error loading reports:",o),f.error("Ошибка загрузки списка отчётов")}finally{V.value=!1}},se=async()=>{try{const o=await te.getHistory(_.params.id);N.value=o.items||[]}catch(o){console.error("Error loading scoring results:",o)}},re=async()=>{D.value=!0;try{const o=await We.list();Q.value=o.activities||[]}catch{f.error("Ошибка загрузки профессиональных областей")}finally{D.value=!1}},ie=o=>{U.file=o.raw,G.value=[o]},ce=async()=>{X.value&&await X.value.validate(async o=>{if(o){if(!U.file){f.error("Выберите файл");return}L.value=!0;try{await ee.upload(_.params.id,U.report_type,U.file),f.success("Отчёт загружен успешно"),I.value=!1,U.report_type="",U.file=null,G.value=[],await H()}catch{f.error("Ошибка загрузки отчёта")}finally{L.value=!1}}})},ue=async o=>{try{const e=await ee.download(o),m=window.URL.createObjectURL(new Blob([e.data])),g=document.createElement("a");g.href=m,g.setAttribute("download",`report_${o}.docx`),document.body.appendChild(g),g.click(),g.remove(),window.URL.revokeObjectURL(m),f.success("Отчёт скачан")}catch{f.error("Ошибка скачивания отчёта")}},k=async o=>{try{await ee.extract(o),f.success("Извлечение метрик запущено"),setTimeout(()=>H(),2e3)}catch{f.error("Ошибка запуска извлечения метрик")}},de=async o=>{J.value=o,q.value=!0},Ee=()=>{f.success("Метрики обновлены")},Me=o=>{Ke.confirm(`Вы уверены, что хотите удалить отчёт "${i(o.type)}"?`,"Подтверждение удаления",{confirmButtonText:"Удалить",cancelButtonText:"Отмена",type:"warning"}).then(async()=>{try{await ee.delete(o.id),f.success("Отчёт удалён"),await H()}catch{f.error("Ошибка удаления отчёта")}}).catch(()=>{})},Oe=async()=>{if(!T.activityCode){f.warning("Выберите профессиональную область");return}j.value=!0;try{const o=await te.calculate(_.params.id,T.activityCode);N.value.unshift({id:o.scoring_result_id,prof_activity_code:o.prof_activity_code||T.activityCode,prof_activity_name:o.prof_activity_name,score_pct:parseFloat(o.score_pct),strengths:o.strengths||[],dev_areas:o.dev_areas||[],recommendations:o.recommendations||[],created_at:new Date().toISOString()}),f.success("Расчёт пригодности выполнен"),F.value=!1,T.activityCode=""}catch(o){console.error("Scoring calculation error:",o);const e=o.response?.data?.detail||"Ошибка расчёта пригодности";f.error(e)}finally{j.value=!1}},xe=async o=>{if(!o.prof_activity_code){f.warning("Код профессиональной деятельности не найден");return}try{const e=await te.getFinalReport(_.params.id,o.prof_activity_code,"json"),m=JSON.stringify(e,null,2),g=new Blob([m],{type:"application/json"}),E=window.URL.createObjectURL(g);window.open(E,"_blank"),window.URL.revokeObjectURL(E),f.success("Отчёт JSON открыт в новой вкладке")}catch(e){console.error("Error viewing final report JSON:",e);const m=e.response?.data?.detail||"Ошибка загрузки финального отчёта";f.error(m)}},Ue=async o=>{if(!o.prof_activity_code){f.warning("Код профессиональной деятельности не найден");return}try{const e=await te.getFinalReport(_.params.id,o.prof_activity_code,"html"),m=new Blob([e],{type:"text/html"}),g=window.URL.createObjectURL(m),E=document.createElement("a");E.href=g,E.setAttribute("download",`final_report_${o.prof_activity_code}_${new Date().toISOString().split("T")[0]}.html`),document.body.appendChild(E),E.click(),E.remove(),window.URL.revokeObjectURL(g),f.success("Отчёт HTML скачан")}catch(e){console.error("Error downloading final report HTML:",e);const m=e.response?.data?.detail||"Ошибка загрузки финального отчёта";f.error(m)}};return $e(async()=>{await ne(),await H(),await se(),await re()}),(o,e)=>{const m=c("el-button"),g=c("el-icon"),E=c("el-descriptions-item"),Ae=c("el-descriptions"),W=c("el-card"),we=c("el-tag"),Y=c("el-table-column"),De=c("el-table"),pe=c("el-empty"),Te=c("el-progress"),Ve=c("el-timeline-item"),Fe=c("el-timeline"),Z=c("el-option"),be=c("el-select"),me=c("el-form-item"),Ne=c("el-upload"),ke=c("el-form"),fe=c("el-dialog"),Re=c("el-alert"),_e=Be("loading");return s(),R(Qe,null,{default:t(()=>[ve((s(),w("div",ut,[b.value?(s(),R(W,{key:0,class:"detail-card"},{header:t(()=>[d("div",dt,[d("h2",null,y(b.value.full_name),1),d("div",pt,[a(m,{onClick:e[0]||(e[0]=l=>M(p).back())},{default:t(()=>[...e[10]||(e[10]=[u(" Назад ",-1)])]),_:1}),a(m,{type:"primary",onClick:e[1]||(e[1]=l=>F.value=!0)},{default:t(()=>[a(g,null,{default:t(()=>[a(M(je))]),_:1}),e[11]||(e[11]=u(" Рассчитать пригодность ",-1))]),_:1})])])]),default:t(()=>[a(Ae,{column:2,border:""},{default:t(()=>[a(E,{label:"ФИО"},{default:t(()=>[u(y(b.value.full_name),1)]),_:1}),a(E,{label:"Дата рождения"},{default:t(()=>[u(y(b.value.birth_date||"Не указана"),1)]),_:1}),a(E,{label:"Внешний ID"},{default:t(()=>[u(y(b.value.external_id||"Не указан"),1)]),_:1}),a(E,{label:"Дата создания"},{default:t(()=>[u(y(r(b.value.created_at)),1)]),_:1})]),_:1})]),_:1})):x("",!0),a(W,{class:"section-card"},{header:t(()=>[d("div",mt,[e[13]||(e[13]=d("h3",null,"Отчёты",-1)),a(m,{type:"primary",onClick:e[2]||(e[2]=l=>I.value=!0)},{default:t(()=>[a(g,null,{default:t(()=>[a(M(Xe))]),_:1}),e[12]||(e[12]=u(" Загрузить отчёт ",-1))]),_:1})])]),default:t(()=>[ve((s(),R(De,{data:h.value,stripe:""},{default:t(()=>[a(Y,{prop:"type",label:"Тип",width:"120"},{default:t(({row:l})=>[a(we,null,{default:t(()=>[u(y(i(l.type)),1)]),_:2},1024)]),_:1}),a(Y,{prop:"status",label:"Статус",width:"150"},{default:t(({row:l})=>[a(we,{type:P(l.status)},{default:t(()=>[u(y(S(l.status)),1)]),_:2},1032,["type"])]),_:1}),a(Y,{prop:"created_at",label:"Дата загрузки",width:"180"},{default:t(({row:l})=>[u(y(r(l.created_at)),1)]),_:1}),a(Y,{label:"Действия",width:"400",fixed:"right"},{default:t(({row:l})=>[a(m,{size:"small",onClick:C=>ue(l.id)},{default:t(()=>[a(g,null,{default:t(()=>[a(M(Ce))]),_:1}),e[14]||(e[14]=u(" Скачать ",-1))]),_:1},8,["onClick"]),a(m,{size:"small",type:"primary",disabled:l.status==="EXTRACTED",onClick:C=>k(l.id)},{default:t(()=>[a(g,null,{default:t(()=>[a(M(Je))]),_:1}),e[15]||(e[15]=u(" Извлечь метрики ",-1))]),_:1},8,["disabled","onClick"]),a(m,{size:"small",type:"info",onClick:C=>de(l.id)},{default:t(()=>[a(g,null,{default:t(()=>[a(M(He))]),_:1}),e[16]||(e[16]=u(" Метрики ",-1))]),_:1},8,["onClick"]),a(m,{size:"small",type:"danger",onClick:C=>Me(l)},{default:t(()=>[a(g,null,{default:t(()=>[a(M(qe))]),_:1}),e[17]||(e[17]=u(" Удалить ",-1))]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])),[[_e,V.value]]),!h.value.length&&!V.value?(s(),R(pe,{key:0,description:"Нет загруженных отчётов"})):x("",!0)]),_:1}),N.value.length>0?(s(),R(W,{key:1,class:"section-card"},{header:t(()=>[...e[18]||(e[18]=[d("h3",null,"История оценок пригодности",-1)])]),default:t(()=>[a(Fe,null,{default:t(()=>[(s(!0),w(z,null,B(N.value,l=>(s(),R(Ve,{key:l.id,timestamp:r(l.created_at),placement:"top"},{default:t(()=>[a(W,null,{default:t(()=>[d("h4",null,y(l.prof_activity_name),1),d("div",ft,[d("div",_t,[d("span",vt,y(l.score_pct)+"%",1),a(Te,{percentage:l.score_pct,status:le(l.score_pct)},null,8,["percentage","status"])]),d("div",yt,[d("div",gt,[e[19]||(e[19]=d("h5",null,"Сильные стороны:",-1)),l.strengths&&l.strengths.length?(s(),w("ul",wt,[(s(!0),w(z,null,B(l.strengths,(C,K)=>(s(),w("li",{key:K},[d("strong",null,y(C.metric_name),1),u(" — "+y(M(ae)(C.value))+" (вес "+y(M(ae)(C.weight,2))+") ",1)]))),128))])):(s(),R(pe,{key:1,description:"Нет данных","image-size":60}))]),d("div",bt,[e[20]||(e[20]=d("h5",null,"Зоны развития:",-1)),l.dev_areas&&l.dev_areas.length?(s(),w("ul",kt,[(s(!0),w(z,null,B(l.dev_areas,(C,K)=>(s(),w("li",{key:K},[d("strong",null,y(C.metric_name),1),u(" — "+y(M(ae)(C.value))+" (вес "+y(M(ae)(C.weight,2))+") ",1)]))),128))])):(s(),R(pe,{key:1,description:"Нет данных","image-size":60}))]),l.recommendations&&l.recommendations.length?(s(),w("div",Rt,[e[21]||(e[21]=d("h5",null,"Рекомендации:",-1)),d("ul",null,[(s(!0),w(z,null,B(l.recommendations,(C,K)=>(s(),w("li",{key:K},y(C),1))),128))])])):x("",!0)]),l.prof_activity_code?(s(),w("div",ht,[a(m,{type:"info",size:"small",onClick:C=>xe(l)},{default:t(()=>[a(g,null,{default:t(()=>[a(M(Ge))]),_:1}),e[22]||(e[22]=u(" Просмотреть JSON ",-1))]),_:1},8,["onClick"]),a(m,{type:"primary",size:"small",onClick:C=>Ue(l)},{default:t(()=>[a(g,null,{default:t(()=>[a(M(Ce))]),_:1}),e[23]||(e[23]=u(" Скачать HTML ",-1))]),_:1},8,["onClick"])])):x("",!0)])]),_:2},1024)]),_:2},1032,["timestamp"]))),128))]),_:1})]),_:1})):x("",!0),a(fe,{modelValue:I.value,"onUpdate:modelValue":e[5]||(e[5]=l=>I.value=l),title:"Загрузить отчёт",width:"500px"},{footer:t(()=>[a(m,{onClick:e[4]||(e[4]=l=>I.value=!1)},{default:t(()=>[...e[26]||(e[26]=[u(" Отмена ",-1)])]),_:1}),a(m,{type:"primary",loading:L.value,onClick:ce},{default:t(()=>[...e[27]||(e[27]=[u(" Загрузить ",-1)])]),_:1},8,["loading"])]),default:t(()=>[a(ke,{ref_key:"uploadFormRef",ref:X,model:U,rules:oe,"label-position":"top"},{default:t(()=>[a(me,{label:"Тип отчёта",prop:"report_type"},{default:t(()=>[a(be,{modelValue:U.report_type,"onUpdate:modelValue":e[3]||(e[3]=l=>U.report_type=l),placeholder:"Выберите тип",style:{width:"100%"}},{default:t(()=>[a(Z,{label:"Отчёт 1",value:"REPORT_1"}),a(Z,{label:"Отчёт 2",value:"REPORT_2"}),a(Z,{label:"Отчёт 3",value:"REPORT_3"})]),_:1},8,["modelValue"])]),_:1}),a(me,{label:"Файл (DOCX)",prop:"file"},{default:t(()=>[a(Ne,{ref:"uploadRef","auto-upload":!1,limit:1,accept:".docx","on-change":ie,"file-list":G.value},{tip:t(()=>[...e[25]||(e[25]=[d("div",{class:"el-upload__tip"}," Только файлы DOCX, максимум 20 МБ ",-1)])]),default:t(()=>[a(m,{type:"primary"},{default:t(()=>[...e[24]||(e[24]=[u(" Выбрать файл ",-1)])]),_:1})]),_:1},8,["file-list"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),a(fe,{modelValue:F.value,"onUpdate:modelValue":e[8]||(e[8]=l=>F.value=l),title:"Рассчитать профессиональную пригодность",width:"500px"},{footer:t(()=>[a(m,{onClick:e[7]||(e[7]=l=>F.value=!1)},{default:t(()=>[...e[28]||(e[28]=[u(" Отмена ",-1)])]),_:1}),a(m,{type:"primary",loading:j.value,disabled:!T.activityCode||h.value.length===0,onClick:Oe},{default:t(()=>[...e[29]||(e[29]=[u(" Рассчитать ",-1)])]),_:1},8,["loading","disabled"])]),default:t(()=>[a(ke,{model:T,"label-position":"top"},{default:t(()=>[a(me,{label:"Профессиональная область",required:""},{default:t(()=>[ve((s(),R(be,{modelValue:T.activityCode,"onUpdate:modelValue":e[6]||(e[6]=l=>T.activityCode=l),placeholder:"Выберите область",style:{width:"100%"}},{default:t(()=>[(s(!0),w(z,null,B(Q.value,l=>(s(),R(Z,{key:l.code,label:l.name,value:l.code},{default:t(()=>[d("span",null,y(l.name),1),d("span",Ct,y(l.code),1)]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])),[[_e,D.value]])]),_:1}),a(Re,{title:"Убедитесь, что у участника загружены и обработаны отчёты с метриками",type:"info",closable:!1,"show-icon":""}),h.value.length===0?(s(),R(Re,{key:0,title:"У участника нет загруженных отчётов",type:"warning",closable:!1,"show-icon":"",style:{"margin-top":"12px"}})):x("",!0)]),_:1},8,["model"])]),_:1},8,["modelValue"]),a(fe,{modelValue:q.value,"onUpdate:modelValue":e[9]||(e[9]=l=>q.value=l),title:"Метрики отчёта",width:"90%",top:"5vh"},{default:t(()=>[J.value?(s(),R(ct,{key:0,"report-id":J.value,onMetricsUpdated:Ee},null,8,["report-id"])):x("",!0)]),_:1},8,["modelValue"])])),[[_e,A.value]])]),_:1})}}},xt=Le($t,[["__scopeId","data-v-c0b8c18e"]]);export{xt as default};
