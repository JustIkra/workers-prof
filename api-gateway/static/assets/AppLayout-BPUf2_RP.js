import{l as V,H as k,p as B,q as c,w as t,d as e,a,r as n,v as E,u as s,i as z,f as _,a5 as D,a6 as I,M as m,T as L,a7 as T,a8 as U,e as q,E as f,o as g}from"./index-B_nAfbqS.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";const $={class:"header-right"},j={class:"user-dropdown"},F={__name:"AppLayout",setup(G){const i=q(),w=B(),l=V(),v=k(()=>w.path),h=d=>{i.push(d)},x=async d=>{if(d==="logout")try{await l.logout(),f.success("Выход выполнен"),i.push("/login")}catch{f.error("Ошибка выхода")}};return(d,o)=>{const u=n("el-icon"),r=n("el-menu-item"),y=n("el-sub-menu"),A=n("el-menu"),S=n("el-tag"),p=n("el-dropdown-item"),b=n("el-dropdown-menu"),C=n("el-dropdown"),N=n("el-header"),M=n("el-main"),R=n("el-container");return g(),c(R,{class:"app-layout"},{default:t(()=>[e(N,{class:"app-header"},{default:t(()=>[o[5]||(o[5]=a("div",{class:"header-left"},[a("div",{class:"logo"},[a("span",{class:"logo-icon"},"ЦМ"),a("span",{class:"logo-text"},"Цифровая модель УК")])],-1)),a("div",$,[e(A,{mode:"horizontal","default-active":v.value,ellipsis:!1,class:"main-menu",onSelect:h},{default:t(()=>[e(r,{index:"/participants"},{default:t(()=>[e(u,null,{default:t(()=>[e(s(z))]),_:1}),o[0]||(o[0]=a("span",null,"Участники",-1))]),_:1}),s(l).isAdmin?(g(),c(y,{key:0,index:"admin"},{title:t(()=>[e(u,null,{default:t(()=>[e(s(D))]),_:1}),o[1]||(o[1]=a("span",null,"Админ",-1))]),default:t(()=>[e(r,{index:"/admin/users"},{default:t(()=>[...o[2]||(o[2]=[_(" Пользователи ",-1)])]),_:1}),e(r,{index:"/admin/weights"},{default:t(()=>[...o[3]||(o[3]=[_(" Весовые таблицы ",-1)])]),_:1})]),_:1})):E("",!0)]),_:1},8,["default-active"]),e(C,{onCommand:x},{dropdown:t(()=>[e(b,null,{default:t(()=>[e(p,{disabled:""},{default:t(()=>[e(S,{type:s(l).isAdmin?"danger":"info",size:"small"},{default:t(()=>[_(m(s(l).isAdmin?"ADMIN":"USER"),1)]),_:1},8,["type"])]),_:1}),e(p,{divided:"",command:"logout"},{default:t(()=>[e(u,null,{default:t(()=>[e(s(T))]),_:1}),o[4]||(o[4]=_(" Выход ",-1))]),_:1})]),_:1})]),default:t(()=>[a("span",j,[e(u,null,{default:t(()=>[e(s(I))]),_:1}),a("span",null,m(s(l).user?.email),1),e(u,{class:"el-icon--right"},{default:t(()=>[e(s(L))]),_:1})])]),_:1})])]),_:1}),e(M,{class:"app-main"},{default:t(()=>[U(d.$slots,"default",{},void 0,!0)]),_:3})]),_:3})}}},O=H(F,[["__scopeId","data-v-b27cdfc9"]]);export{O as A};
