ID: FE-04
Title: Анимации ошибок на страницах входа и регистрации
Type: feature
Priority: P2
Status: Planned
Owner: frontend
Created: 2025-11-13

Кратко
— Добавить анимированные подсказки ошибок для форм входа и регистрации, чтобы пользователи быстрее замечали проблемы с вводом.

Контекст
— На текущем фронтенде ошибки валидации показываются статичными сообщениями под полями, без визуального акцента. Пользователи пропускают подсказки, особенно на мобильных устройствах. Требуется задать единый подход к "валидным" (по гайдлайнам) анимациям и применить его минимум на ключевых auth-страницах.

Требования
1) Страницы: `LoginView`, `RegistrationView` (убедиться, что реальный компонент так называется; если нет — выбрать фактический файл).
2) Триггеры:
   - Ошибки клиентской валидации (пустое поле, слабый пароль, неверный формат e-mail).
   - Ошибки ответа сервера (401, 422) отображаются с тем же анимированным паттерном, но текст берётся из backend.
3) Анимация:
   - Должна соответствовать бренду (см. `frontend/public/assets/theme-tokens.css` для цветов).
   - Максимальная длительность 300 мс, без бесконечных повторов.
   - Подсветка поля (`border-color`, `box-shadow`) + лёгкий shake/slide для уведомления.
   - Соблюдать доступность: не вызывать «flash» выше 3 Гц, по завершении поле остаётся в состоянии ошибки без движения.
4) Состояния:
   - Фокус внутри поля при ошибке → анимация отображается однократно, далее сохраняется цветовая подсветка.
   - Исправление значения и прохождение валидации → ошибка исчезает, восстанавливается стандартный стиль.

Дизайн/UX
— Согласовать сценарий с дизайн-командой: подтвердить использование короткого горизонтального shake + изменение тени.
— Добавить токены анимации в централизованное место (например, `frontend/src/styles/animations.css`), чтобы переиспользовать в других формах.

Технические заметки
— Использовать CSS keyframes или `@use` mixin Element Plus, избегать инлайновых стилей.
— Для серверных ошибок авторизации, привязать анимацию к `errorMessage`, который уже отображается в `ParticipantDetailView` (если используется общий компонент).
— Добавить unit-тесты (Vitest) на хук/компонент, чтобы убедиться, что класс с анимацией применяется при ошибке.
— Проверить совместимость с Element Plus формами (`ElForm`, `ElFormItem`); возможно потребуется переопределить `validate` коллбек.

Тестирование
— Vitest: проверка применения CSS-класса при ошибке и снятие при исправлении.
— Playwright: сценарий «Неверный пароль» → заметная анимация, кнопка повторной попытки.
— Lighthouse accessibility: нет предупреждений о вспышках / чрезмерной анимации.

Критерии приёмки
— Ошибки на auth-страницах сопровождаются единообразной анимацией, которая выполняется не более одного цикла и подчёркивает поле.
— При повторной валидации без исправления поле перезапускает анимацию (не чаще чем раз в 2 секунды).
— На мобильных устройствах (ширина ≤ 480px) анимация видна и не ломает макет.
— Пользователь теста сообщает, что заметил ошибку и понял, что нужно исправить (UX smoke).

Зависимости
— Нет блокеров. Потребуется согласование с UI/UX дизайнером.




