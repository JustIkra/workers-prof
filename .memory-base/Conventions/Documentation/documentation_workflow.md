# Правила работы с документацией проекта

## Основной принцип

Вся проектная документация создается и изменяется **только в `.memory-base/`**.

## Структура документации

Документация организована по следующим разделам:

- **Product Overview** — описание продукта, фичи, персоны, метрики успеха
- **Conventions** — конвенции разработки, Git, тестирования, UI/UX, документации
- **Tech details** — технический стек, архитектура, инфраструктура, модель данных
- **task** — задачи и таски проекта

## Workflow работы с документацией

### 1. Создание новой документации

- Определить категорию документа (Product/Conventions/Tech details/task)
- Создать файл в соответствующей подпапке `.memory-base/<категория>/<подкатегория>/`
- Именование файлов: `snake_case.md` или `README.md` для обзорных документов
- Формат: Markdown (GitHub-flavored)

### 2. Изменение существующей документации

- Найти документ в `.memory-base/`
- Внести изменения напрямую в файл
- **Запрещено** дублировать документацию в корне проекта или в других местах

### 3. Регистрация документа в index.md

После создания или значительного изменения документа:

1. Открыть `/index.md` в корне проекта
2. Добавить ссылку на документ в соответствующий раздел
3. Сохранить index.md

Формат записи в index.md:

```markdown
- Категория
  - `.memory-base/Категория/подкатегория/filename.md`
```

### 4. Не создавать документацию вне `.memory-base/`

**Запрещено**:
- Создавать `.md` файлы в корне репозитория (кроме `README.md`, `CLAUDE.md`, `index.md`)
- Дублировать документацию в папках сервисов (`api-gateway/docs/`, `frontend/docs/` и т.д.)
- Создавать локальные wiki или отдельные README в подпапках без необходимости

**Исключения**:
- `README.md` — краткое описание проекта для GitHub
- `CLAUDE.md` — инструкции для Claude Code (ссылается на `.memory-base/`)
- `index.md` — индекс всех документов в `.memory-base/`
- Технические README внутри кода (например, `frontend/src/components/README.md`) — допустимы для локального контекста компонентов

## Синхронизация index.md

При добавлении документа в `.memory-base/`:

1. Сразу же добавить ссылку в `index.md`
2. Поддерживать порядок ссылок (по категориям и алфавиту внутри категории)
3. Убедиться, что путь к файлу корректен

## Примеры

### Создание нового документа о деплое

1. Создать `.memory-base/Tech details/infrastructure/deployment.md`
2. Написать содержимое
3. Добавить в `index.md` в раздел "Тех детали":

```markdown
- Тех детали
  ...
  - `.memory-base/Tech details/infrastructure/deployment.md`
```

### Изменение конвенций Git

1. Открыть `.memory-base/Conventions/Git/git_conventions.md`
2. Внести изменения
3. Если добавлен новый важный раздел — убедиться, что ссылка есть в `index.md`

## Проверка целостности

Периодически:
- Проверять, что все файлы в `.memory-base/` отражены в `index.md`
- Удалять битые ссылки из `index.md` на несуществующие файлы
- Консолидировать дублирующуюся документацию

## Зачем это нужно

- Единый источник истины для всей проектной документации
- Легкость навигации через `index.md`
- Интеграция с Claude Code через `CLAUDE.md`
- Избежание дублирования и рассинхронизации документов
